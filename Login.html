<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login â€“ Veluria</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="box">
<h2>Login to Veluria</h2>
<input id="email" type="email" placeholder="Email">
<input id="password" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<p id="msg"></p>
</div>

<script>
const savedEmail = localStorage.getItem("veluria_user");

if(savedEmail){
document.getElementById("email").value = savedEmail;
}

function login(){
const email = document.getElementById("email").value;
const password = document.getElementById("password").value;

fetch("https://veluria-backend.onrender.com/login", {
method:"POST",
headers:{"Content-Type":"application/json"},
body: JSON.stringify({email,password})
})
.then(r=>r.json())
.then(data=>{
if(data.success){
localStorage.setItem("veluria_user", email);
localStorage.setItem("veluria_premium", data.premium);
window.location.href = "explore.html";
} else {
document.getElementById("msg").innerText = "Invalid login";
}
});
}
</script>

</body>
</html>
